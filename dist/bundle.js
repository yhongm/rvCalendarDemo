!function(e){var t={};function r(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var i,o=r(1),n=(i=o)&&i.__esModule?i:{default:i};window.onload=function(){(0,n.default)("#app",function(e){alert("selectDate,:"+e)})}},function(e,t,r){"use strict";r.r(t);const i=0,o=1,n=2,s=3;class l{constructor(e,t,r){if(!(this instanceof l))return new l(tagName,t,r);if(this.tag=e,this.props=t||{},this.children=r||[],this.key=t?t.key:void 0,!this.key)throw new Error(`${e} ... the key is undefined`);let i=0;this.children.forEach(e=>{e instanceof l&&(i+=e.count),i++}),this.count=i}render(){const e=document.createElement(this.tag),t=this.props;for(const r in t)d.setAttr(e,r,t[r]);return this.children.forEach(t=>{const r=t instanceof l?t.render():document.createTextNode(t);e.appendChild(r)}),e}}class a{constructor(e,t){this.index=0,this.patches={},this.dfsWalk(e,t,this.index)}dfsWalk(e,t,r){let o=[];if(null==t);else if(d.isString(e)&&d.isString(t))e!=t&&o.push({type:s,content:t});else if(e.tagName===t.tagName&&e.key==t.key){let i=this.diffProps(e,t);i&&o.push({type:n,props:i}),d.isIgnoreChildren(t)||this.diffChildren(e.children,t.children,r,o)}else o.push({type:i,node:t});o.length&&(this.patches[r]=o)}diffProps(e,t){const r=e.props,i=t.props,o={};let n=!0;for(let e in r)i[e]!==r[e]&&(n=!1,o[e]=i[e]);for(let e in i)r.hasOwnProperty(e)||(n=!1,o[e]=i[e]);return n?null:o}diffChildren(e,t,r,i){let n=new c(e,t).getResult();if(t=n.child,n.moves.length){let e={type:o,moves:n.moves};i.push(e)}let s=null,l=r;e.forEach((e,r)=>{let i=t[r];l=s&&s.count?l+s.count+1:l+1,this.dfsWalk(e,i,l),s=e})}}class h{constructor(e,t){this.dfsWalk(e,{index:0},t)}dfsWalk(e,t,r){let i=r[t.index],o=e.childNodes?e.childNodes.length:0;for(let i=0;i<o;i++){let o=e.childNodes[i];t.index++,this.dfsWalk(o,t,r)}i&&this.applyPatches(e,i)}applyPatches(e,t){t.forEach(t=>{switch(t.type){case i:let r=d.isString(t.node)?document.createTextNode(t.node):t.node.render();e.parentNode.replaceChild(r,e);break;case o:this.reorderChildren(e,t.moves);break;case n:this.setProps(e,t.props);break;case s:e.textContent?e.textContent=t.content:e.nodeValue=t.content}})}reorderChildren(e,t){let r=d.toArray(e.childNodes),i={};r.forEach(e=>{if(1===e.nodeType){let t=e.getAttribute("key");t&&(i[t]=e)}}),t.forEach(t=>{let o=t.index;if(0===t.type)r[o]===e.childNodes[o]&&e.removeChild(e.childNodes[o]),r.splice(o,1);else if(1===t.type){let n=i[t.item.key]?i(t.item.key).cloneNode(!0):d.isString(t.item)?document.createTextNode(t.item):t.item.render();r.splice(o,0,n),e.insertBefore(n,e.childNodes[o]||null)}})}setProps(e,t){for(let r in t)if(void 0===t[r])e.removeAttribute(r);else{const i=t[r];d.setAttr(e,r,i)}}}class d{static isString(e){return"string"==typeof e}static toArray(e){if(!e)return[];let t=[];for(let r=0;r<e.length;r++)t.push(e[r]);return t}static isForIn(e){return/^\w* _in_ \w*$/.test(e)}static isForForIn(e){return/^\w* _in*$/.test(e)}static isForOrForFor(e){return/^\w* _in_ \w|_in*$/.test(e)}static isIgnoreChildren(e){return e.props&&e.props.hasOwnProperty("ignore")}static setAttr(e,t,r){switch(t){case"style":e.style.cssText=r;break;case"value":let i=e.tagName||"";"input"===(i=i.toLowerCase())||"textarea"===i?e.value=r:e.setAttribute(t,r);break;default:e.setAttribute(t,r)}}}class c{constructor(e,t){let r=this.makeKeyIndex(e).keyIndex,i=this.makeKeyIndex(t).keyIndex;this.moveOperator=[],this.childList=[];for(let r=0;r<e.length;r++){let o=e[r],n=this.getKey(o);i.hasOwnProperty(n)?this.childList.push(t[i[n]]):this.childList.push(null)}this.tempList=this.childList.slice(0);let o=0;for(;o<this.tempList.length;)null===this.tempList[o]?(this.remove(o),this.removeCopyTempList(o)):o++;let n=0;for(let e=0;e<t.length;e++){let i=t[e],o=this.getKey(i),s=this.tempList[n],l=this.getKey(s);if(s)if(o!=l)if(r.hasOwnProperty(o)){o===getKey(this.tempList[n+1])?(this.remove(e),this.removeCopyTempList(n),n++):this.insert(e,i)}else this.insert(e,i);else n++;else this.insert(e,i)}let s=this.tempList.length-n;for(;n++<this.tempList.length;)s--,this.remove(s+t.length)}makeKeyIndex(e){let t={};for(let r=0;r<e.length;r++){let i=e[r];t[this.getKey(i)]=r}return{keyIndex:t}}getKey(e){if(e)return e.key}removeCopyTempList(e){this.tempList.splice(e,1)}remove(e){this.moveOperator.push({index:e,type:0})}insert(e,t){this.moveOperator.push({index:e,item:t,type:1})}getResult(){return{moves:this.moveOperator,child:this.childList}}}function p(){this.updateFunctions=new Set}p.prototype.add=function(e){this.updateFunctions.add(e)},p.prototype.invoke=function(){this.updateFunctions.forEach(e=>e())};class u{constructor(){this.length=0,this.map=new Object}put(e,t){e in this.map||this.length++,this.map[e]=t}get(e){return e in this.map?this.map[e]:null}remove(e){e in this.map&&(delete this.map[e],this.length--)}size(){return this.length}clear(){length=0,this.map=new Object}}class y{constructor(e){const{el:t,data:r,dom:i}=e;let o=d.isString(t)?document.querySelector(t):t;var n,s,l;this.data=r,this.ve=this.getVirtualElement(this.applyTruthfulData(i)),this.w=this.ve.render(),o.appendChild(this.w),this.observeMap=new u,n=this.data,s=this.observeMap,l=()=>{this.updatedom(i)},Object.keys(n).forEach(e=>{let t=n[e],r=new p;s.put(e,r),Object.defineProperty(n,e,{get:()=>(r.add(l),t),set(e){const i=t!==e;t=e,i&&r.invoke()}})}),this.updatedom(i)}updatedom(e){let t=this.getVirtualElement(this.applyTruthfulData(e));var r,i,o;window.nve=t,window.ve=this.ve,r=this.w,o=this.ve,i=new a(o,t).patches,new h(r,i),this.ve=t}watch(e,t){this.observeMap.get(e).add(t)}getVirtualElement(e){let t=[];for(let r in e.children){let i=e.children[r];if(i instanceof Array)i.forEach(e=>{let r=this.getVirtualElement(e);t.push(r)});else if(i instanceof Object){let e=this.getVirtualElement(i);t.push(e)}else t.push(i)}return function(e,t,r){return new l(e,t,r)}(e.tag,e.props,t)}applyTruthfulData(e){if("for"in e.props||"for_for"in e.props){let t,r=[],i=!1;if(e.props.for){if(d.isForOrForFor(e.props.for))if(e.forData){if(d.isForIn(e.props.for))throw new Error("plase use _in direction");r=e.forData,t=e.props.for.split(" _in")[0]}else{if(d.isForForIn(e.props.for))throw new Error("plase use _in_ direction");r=this.data[e.props.for.split(" _in_ ")[1]],t=e.props.for.split(" _in_ ")[0]}}else{if(!e.props.for_for)throw new Error("the for direction use error");if(d.isForOrForFor(e.props.for_for)){if(d.isForForIn(e.props.for_for))throw new Error("plase use _in_ direction");i=!0,r=this.data[e.props.for_for.split(" _in_ ")[1]],t=e.props.for_for.split(" _in_ ")[0]}}let o=[];return r.forEach(r=>{let n={};n.tag=e.tag,n.children=[],n.props={};for(let o in e.children)d.isString(e.children[o])?y.isPlaceHolder(e.children[o])?-1==y.getPlaceHolderValue(e.children[o]).indexOf(t)?n.children[o]=this.data[y.getPlaceHolderValue(e.children[o])]:n.children[o]=r[y.getPlaceHolderValue(e.children[o]).split(".")[1]]:n.children[o]=e.children[o]:(i&&(e.children[o].forData=r),n.children[o]=this.applyTruthfulData(e.children[o]));let s=Object.keys(e.props);for(let i in s){let o=s[i];if("style"===o){let i=e.props[o];if(i.indexOf(",")>-1){let e=i.split(",");n.props[o]=this.handleArrayStyle(r,e,t)}else n.props[o]=this.handleSingleStyle(r,i,t)}else y.isPlaceHolder(e.props[o])?-1==y.getPlaceHolderValue(e.props[o]).indexOf(t)?n.props[o]=this.data[y.getPlaceHolderValue(e.props[o])]:n.props[o]=r[y.getPlaceHolderValue(e.props[o]).split(".")[1]]:n.props[o]=e.props[o]}o.push(n)}),o}{let t={};t.tag=e.tag,t.children=[],t.props={};for(let r in e.children)d.isString(e.children[r])?y.isPlaceHolder(e.children[r])?t.children[r]=this.data[y.getPlaceHolderValue(e.children[r])]:t.children[r]=e.children[r]:t.children[r]=this.applyTruthfulData(e.children[r]);let r=Object.keys(e.props);for(let i in r){let o=r[i];if("style"===o){let r=e.props[o];if(r.indexOf(",")>-1){let e=r.split(",");t.props[o]=this.handleArrayStyle(this.data,e,void 0)}else t.props[o]=this.handleSingleStyle(this.data,r,void 0)}else y.isPlaceHolder(e.props[o])?t.props[o]=this.data[y.getPlaceHolderValue(e.props[o])]:t.props[o]=e.props[o]}return t}}handleSingleStyle(e,t,r){let i="";if(r)if(y.isPlaceHolder(t))if(-1!=y.getPlaceHolderValue(t).indexOf(r)){i=e[y.getPlaceHolderValue(t).split(".")[1]]}else{let r=t.split(":")[0],o=t.split(":")[1];i=r+":"+(o=e[y.getPlaceHolderValue(o)])}else i=t;else{let r=t.split(":")[0],o=t.split(":")[1];i=y.isPlaceHolder(o)?r+":"+(o=e[y.getPlaceHolderValue(o)]):t}return i}handleArrayStyle(e,t,r){let i="";for(let o of t){i+=this.handleSingleStyle(e,o,r)+";"}return i}static isPlaceHolder(e){return!!e&&!(!e.startsWith("%#")||!e.endsWith("#%"))}static getPlaceHolderValue(e){return e.slice(2,-2)}}var f=y;function g(){this.months=new Array("一","二","三","四","五","六","七","八","九","十","十一","十二"),this.dayCounts=new Array(31,28,31,30,31,30,31,31,30,31,30,31),this.days=new Array("日","一","二","三","四","五","六"),this.today=this.getToday(),this.year=this.today.year,this.month=this.today.month,this.newCal=new Date,this.selectDay=this.newCal,this.day=-1,this.startDay=0,this.daily=0,this.rv=void 0,this.today.year==this.newCal.getFullYear()&&this.today.month==this.newCal.getMonth()&&(this.day=this.today.day)}r.d(t,"default",function(){return w}),g.prototype.getWeeks=function(){this.newCal=new Date(this.year,this.month,1),this.day=-1,this.startDay=this.newCal.getDay(),this.daily=0,this.today.year==this.newCal.getFullYear()&&this.today.month==this.newCal.getMonth()&&(this.day=this.today.day);for(var e=this.getDayCounts(this.newCal.getMonth(),this.newCal.getFullYear()),t=[],r=0;r<6;r++){var i=[];i.id=`week_row_${r}`;for(var o=0;o<7;o++){var n={},s="",l="",a="",h=`week_day_${r}${o}`;o==this.startDay&&0==this.daily&&(this.daily=1),this.day==this.daily?(l="font-weight:bold;color:#000000;background-color:#FFFFFF;height:20px;text-align:center",a="current"):6==o?(l="color:#FF0000;text-decoration:none;background-color:#E5E9F2;text-align:center;height:18px;width:12%",a="sat"):0==o?(l="color: #FF0000;text-decoration:none;background-color:#E5E9F2;text-align:center;height:18px;width:12%",a="sun"):(l="color:#243F65;background-color:#E5E9F2;height:20px;width:11%;text-align:center",a="normal"),this.daily>0&&this.daily<=e?(s=this.daily+"",this.daily++):(l="color:#000000;background-color: #f6f6f6;height:20px;width: 11%;text-align:center",s=""),n.content=s,n.id=h,n.lable=a,n.style=l,i.push(n)}t.push(i),window.weeks=t}return t},g.prototype.getDayCounts=function(e,t){return 1==e?0==t%4&&0!=t%100||0==t%400?29:28:this.dayCounts[e]},g.prototype.getToday=function(){var e={},t=new Date;return e.now=t,e.year=t.getFullYear(),e.month=t.getMonth(),e.day=t.getDate(),e},g.prototype.subMonth=function(){this.month-1<0?(this.month=11,this.year=this.year-1):this.month=this.month-1,console.log("month:"+this.month)},g.prototype.addMonth=function(){this.month+1>11?(this.month=0,this.year=this.year+1):this.month=this.month+1},g.prototype.setMonth=function(e){e<1||e>12?alert("月份必须在1-12之间!"):this.month=e},g.prototype.setYear=function(e){this.year=e},window.mouseOver=function(e){e.style.color="#FFFFFF"},window.mouseOut=function(e){var t=e.getAttribute("lable");e.style.color="sat"==t||"sun"==t?"#FF0000":"#000000"};let m=new g;function w(e,t){var r=m.getWeeks();let i=new f({el:e,data:{year:""+m.year,month:""+(m.month+1),weekTitles:[{id:"weekkey1",value:"一"},{id:"weekkey2",value:"二"},{id:"weekkey3",value:"三"},{id:"weekkey4",value:"四"},{id:"weekkey5",value:"五"}],weeks:r},dom:{tag:"table",props:{border:0,cellpadding:"0",cellspacing:"1",id:"caltable",key:"table",style:"text-decoration:none;width:200;background-color:#D0D0EE;font-size:8pt;border:0px dotted #1C6FF5;"},children:[{tag:"thead",props:{key:"thead"},children:[{tag:"tr",props:{align:"center",valign:"middle",id:"title",key:"title",style:"font-weight:normal;height:24px;text-align:center;color:#333333;text-decoration:none;background-color:#A4B9D7;border-top-width:1px;border-right-width:1px;border-bottom-width: 1px; border-left-width: 1px;border-bottom-style: 1px;border-top-color: #999999;border-right-color: #999999;border-bottom-color:#999999;border-left-color:#999999;"},children:[{tag:"td",props:{colspan:"7",key:"tdTitle"},children:[{tag:"div",props:{key:"titleDiv"},children:[{tag:"button",props:{onclick:"mCalendar.subMonth()",style:"font-weight:bold; color:#243F65;cursor:hand;text-decoration:none;",key:"subButton"},children:["<"]},{tag:"input",props:{name:"year",type:"text",maxlength:"4",style:"font-size: 9pt; text-decoration: none;background-color: #FFFFFF;height: 20px;border: 1px solid #666666; color: #000000;",size:"4",value:"%#year#%",key:"inputYear"},children:[""]},{tag:"input",props:{name:"month",type:"text",maxlength:"2",value:"%#month#%",style:"font-size: 9pt; text-decoration: none;background-color: #FFFFFF;height: 20px;border: 1px solid #666666; color: #000000;",size:"2",key:"inputMonth"},children:[""]},{tag:"button",props:{onclick:"mCalendar.addMonth()",style:"font-weight: bold;color: #243F65;cursor: hand;text-decoration: none;",key:"addButton"},children:[">"]}]}]}]},{tag:"tr",props:{key:"daytr"},children:[{tag:"td",props:{style:"color: #FF0000;text-decoration: none;background-color: #C0D0E8;text-align: center;height: 20px;width: 12%;",key:"daySunTitle"},children:["日"]},{tag:"td",props:{style:"color:#000000;background-color:#C0D0E8;height:20px;width:11%;text-align:center;",key:"%#v.id#%",for:"v _in_ weekTitles"},children:["%#v.value#%"]},{tag:"td",props:{style:" color:#FF0000;text-decoration:none;background-color:#C0D0E8;text-align:center;height: 20px;width: 12%;",key:"daySatTitle"},children:["六"]}]}]},{tag:"tbody",props:{cellspacing:"0",cellpadding:"0",id:"calendar",style:" text-decoration: none;width: 170;background-color: #C0D0E8;font-size: 9pt;border: 0px dotted #1C6FA5;",align:"center",border:"1",key:"tbody"},children:[{tag:"tr",props:{style:"cursor:hand",key:"%#week.id#%",for_for:"week _in_ weeks"},children:[{tag:"td",props:{key:"%#v.id#%",onclick:"clickDay(this)",style:"%#v.style#%",lable:"%#v.lable#%",onMouseover:"mouseOver(this);",onMouseOut:"mouseOut(this);",for:"v _in"},children:["%#v.content#%"]}]}]}]}}),o=m.month,n=m.year,s=m.selectDay;Object.defineProperty(m,"month",{set(e){console.log("newMonth:"+e),o!=e&&(o=e,i.data.weeks=m.getWeeks(),i.data.month=e+1)},get:()=>o}),Object.defineProperty(m,"year",{set(e){n!=e&&(console.log("newYear:"+e),n=e,i.data.weeks=m.getWeeks(),i.data.year=e)},get:()=>n}),Object.defineProperty(m,"selectDay",{set(e){s!=e&&(s=e,t(e))},get:()=>s})}window.mCalendar=m,window.clickDay=function(e){if(""!=e.innerText){var t=new Date(m.year,m.month,e.innerText);m.selectDay=t}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY2FsZW5kYXJEZW1vLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy95aG9uZ21fcnYuanMvc3JjL3J2LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ydmNhbGVuZGFyL3NyYy9SVmNhbGVuZGFyLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX3J2Y2FsZW5kYXIiLCJ3aW5kb3ciLCJvbmxvYWQiLCJfcnZjYWxlbmRhcjIiLCJkZWZhdWx0Iiwic2VsZWN0RGF0ZSIsImFsZXJ0IiwiTk9ERV9SRVBMQUNFIiwiQ0hJTERfUkVfT1JERVIiLCJOT0RFX1BST1BTIiwiTk9ERV9DT05URU5UIiwiRWxlbWVudCIsIltvYmplY3QgT2JqZWN0XSIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJ0aGlzIiwidGFnTmFtZSIsInVuZGVmaW5lZCIsIkVycm9yIiwiY291bnQiLCJmb3JFYWNoIiwiY2hpbGQiLCJlbCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInByb3BOYW1lIiwiVXRpbCIsInNldEF0dHIiLCJjaGlsZEVsIiwicmVuZGVyIiwiY3JlYXRlVGV4dE5vZGUiLCJhcHBlbmRDaGlsZCIsIkRpZmYiLCJvbGRUcmVlIiwibmV3VHJlZSIsImluZGV4IiwicGF0Y2hlcyIsImRmc1dhbGsiLCJvbGROb2RlIiwibmV3Tm9kZSIsImN1cnJlbnRQYXRjaCIsImlzU3RyaW5nIiwicHVzaCIsInR5cGUiLCJjb250ZW50IiwicHJvcHNQYXRjaGVzIiwiZGlmZlByb3BzIiwiaXNJZ25vcmVDaGlsZHJlbiIsImRpZmZDaGlsZHJlbiIsIm5vZGUiLCJsZW5ndGgiLCJvbGRQcm9wcyIsIm5ld1Byb3BzIiwiaXNTYW1lIiwib2xkQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImRpZmZzIiwiRGlmZkxpc3QiLCJnZXRSZXN1bHQiLCJtb3ZlcyIsInJlb3JkZXJQYXRjaCIsImxlZnROb2RlIiwiY3VycmVudE5vZGVJbmRleCIsIm5ld0NoaWxkIiwiUGF0Y2giLCJ3YWxrZXIiLCJjdXJyZW50UGF0Y2hlcyIsImxlbiIsImNoaWxkTm9kZXMiLCJhcHBseVBhdGNoZXMiLCJjdXJyZW50UGF0Y2hlIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsInJlb3JkZXJDaGlsZHJlbiIsInNldFByb3BzIiwidGV4dENvbnRlbnQiLCJub2RlVmFsdWUiLCJzdGF0aWNOb2RlTGlzdCIsInRvQXJyYXkiLCJub2RlTWFwcyIsInNub2RlIiwibm9kZVR5cGUiLCJnZXRBdHRyaWJ1dGUiLCJtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJzcGxpY2UiLCJpbnNlcnROb2RlIiwiaXRlbSIsImNsb25lTm9kZSIsImluc2VydEJlZm9yZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNvbWUiLCJsaXN0IiwiYXJyYXkiLCJkaXJlY3Rpb24iLCJ0ZXN0Iiwic3R5bGUiLCJjc3NUZXh0IiwidG9Mb3dlckNhc2UiLCJzZXRBdHRyaWJ1dGUiLCJvbGRMaXN0IiwibmV3TGlzdCIsIm9sZExpc3RLZXlJbmRleCIsIm1ha2VLZXlJbmRleCIsImtleUluZGV4IiwibmV3TGlzdEtleUluZGV4IiwibW92ZU9wZXJhdG9yIiwiY2hpbGRMaXN0Iiwib2xkSXRlbSIsIm9JdGVtS2V5IiwiZ2V0S2V5IiwidGVtcExpc3QiLCJzbGljZSIsInJlbW92ZSIsInJlbW92ZUNvcHlUZW1wTGlzdCIsIm5JdGVtIiwibkl0ZW1LZXkiLCJjSXRlbSIsImNJdGVtS2V5IiwiaW5zZXJ0IiwiayIsIk9ic2VydmFibGUiLCJ1cGRhdGVGdW5jdGlvbnMiLCJTZXQiLCJhZGQiLCJvYnNlcnZhYmxlVXBkYXRlIiwiaW52b2tlIiwiZnVuIiwiTWFwIiwibWFwIiwiUlYiLCJvcHRpb24iLCJkYXRhIiwiZG9tIiwicm9vdCIsInF1ZXJ5U2VsZWN0b3IiLCJvYmoiLCJvYnNlcnZlTWFwIiwiY2FsbGJhY2siLCJ2ZSIsImdldFZpcnR1YWxFbGVtZW50IiwiYXBwbHlUcnV0aGZ1bERhdGEiLCJ3IiwidXBkYXRlZG9tIiwia2V5cyIsImludGVybmFsVmFsdWUiLCJvYnNlcnZhYmxlIiwicHV0IiwibmV3VmFsIiwiY2hhbmdlZCIsIm52ZSIsImNjIiwiQXJyYXkiLCJ2IiwiaCIsImRhdGFTaW5nbGUiLCJkYXRhQXJyYXkiLCJpc0ZvckZvciIsImlzRm9yT3JGb3JGb3IiLCJmb3JEYXRhIiwiaXNGb3JJbiIsInNwbGl0IiwiaXNGb3JGb3JJbiIsIm9ianMiLCJpc1BsYWNlSG9sZGVyIiwiZ2V0UGxhY2VIb2xkZXJWYWx1ZSIsImluZGV4T2YiLCJwcm9wIiwic3R5bGVzIiwiaGFuZGxlQXJyYXlTdHlsZSIsImhhbmRsZVNpbmdsZVN0eWxlIiwibmV3U3R5bGUiLCJzdHlsZUtleSIsInN0eWxlVmFsdWUiLCJuZXdTdHlsZUFycmF5Iiwic3RhcnRzV2l0aCIsImVuZHNXaXRoIiwic3JjX3J2IiwiQ2FsZW5kYXIiLCJtb250aHMiLCJkYXlDb3VudHMiLCJkYXlzIiwidG9kYXkiLCJnZXRUb2RheSIsInllYXIiLCJtb250aCIsIm5ld0NhbCIsIkRhdGUiLCJzZWxlY3REYXkiLCJkYXkiLCJzdGFydERheSIsImRhaWx5IiwicnYiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsImdlbmVyYXRlVmlldyIsImdldFdlZWtzIiwiZ2V0RGF5IiwiZ2V0RGF5Q291bnRzIiwid2Vla3MiLCJkYXlJbldlZWtzIiwiaWQiLCJqIiwiX2NlbGxPYmoiLCJsYWJsZSIsIl9vYmoiLCJub3ciLCJnZXREYXRlIiwic3ViTW9udGgiLCJjb25zb2xlIiwibG9nIiwiYWRkTW9udGgiLCJzZXRNb250aCIsInNldFllYXIiLCJtb3VzZU92ZXIiLCJlbGVtZW50IiwiY29sb3IiLCJtb3VzZU91dCIsImxhYmVsIiwibUNhbGVuZGFyIiwid2Vla1RpdGxlcyIsImJvcmRlciIsImNlbGxwYWRkaW5nIiwiY2VsbHNwYWNpbmciLCJhbGlnbiIsInZhbGlnbiIsImNvbHNwYW4iLCJvbmNsaWNrIiwibWF4bGVuZ3RoIiwic2l6ZSIsImZvciIsImZvcl9mb3IiLCJvbk1vdXNlb3ZlciIsIm9uTW91c2VPdXQiLCJudmFsdWUiLCJjbGlja0RheSIsImlubmVyVGV4dCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFi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QTZNLElBR0FoTixPQUFBQyxlQUFBa1AsRUFBQSxRQUNBak4sSUFBQWdPLEdBQ0FuRCxHQUFBbUQsSUFDQXpCLFFBQUFDLElBQUEsV0FBQXdCLEdBQ0FuRCxFQUFBbUQsRUFDQTNDLEVBQUE1RCxLQUFBb0UsTUFBQW9CLEVBQUF2QixXQUNBTCxFQUFBNUQsS0FBQW9ELEtBQUFtRCxJQUlBL1AsSUFBQSxJQUNBNE0sSUFJQS9NLE9BQUFDLGVBQUFrUCxFQUFBLGFBQ0FqTixJQUFBZ08sR0FDQS9DLEdBQUErQyxJQUNBL0MsRUFBQStDLEVBQ0FqRyxFQUFBaUcsS0FHQS9QLElBQUEsSUFDQWdOLElBdk9BNUwsT0FBQTROLFlBQ0E1TixPQUFBNE8sU0FBQSxTQUFBcEIsR0FDQSxPQUFBQSxFQUFBcUIsVUFBQSxDQUNBLElBQUFoRCxFQUFBLElBQUFGLEtBQUFpQyxFQUFBcEMsS0FBQW9DLEVBQUFuQyxNQUFBK0IsRUFBQXFCLFdBQ0FqQixFQUFBaEMsVUFBQUMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IGdlbmVyYXRlVmlldyBmcm9tICdydmNhbGVuZGFyJ1xud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBnZW5lcmF0ZVZpZXcoXCIjYXBwXCIsIGZ1bmN0aW9uIChzZWxlY3REYXRlKSB7XG4gICAgICAgIGFsZXJ0KFwic2VsZWN0RGF0ZSw6XCIrc2VsZWN0RGF0ZSlcbiAgICB9KVxufSIsImNvbnN0IE5PREVfUkVQTEFDRSA9IDAgLy9ub2RlIHJlcGxhY2UgXG5jb25zdCBDSElMRF9SRV9PUkRFUiA9IDEgLy9jaGlsZCBub2RlIHJlIG9yZGVyXG5jb25zdCBOT0RFX1BST1BTID0gMiAvL3Byb3AgY2hhbmdlIFxuY29uc3QgTk9ERV9DT05URU5UID0gMyAvL2NvbnRlbnQgY2hhbmdlXG5jbGFzcyBFbGVtZW50IHtcbiAgICAvKipcbiAgICAgKiB2aXJ0dWFsIGRvbSBvYmplY3QgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0geyp9IHRhZyAgdGhlIGh0bWwgdGFnIG5hbWVcbiAgICAgKiBAcGFyYW0geyp9IHByb3BzICB0aGUgcHJvcCAoa2V577yMc3R5bGUuLilcbiAgICAgKiBAcGFyYW0geyp9IGNoaWxkcmVuIGNoaWxkIGRhdGFcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0YWcsIHByb3BzLCBjaGlsZHJlbikge1xuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRWxlbWVudCh0YWdOYW1lLCBwcm9wcywgY2hpbGRyZW4pXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50YWcgPSB0YWdcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzIHx8IHt9XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCBbXVxuICAgICAgICB0aGlzLmtleSA9IHByb3BzID8gcHJvcHMua2V5IDogdW5kZWZpbmVkXG4gICAgICAgIGlmICghdGhpcy5rZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0YWd9IC4uLiB0aGUga2V5IGlzIHVuZGVmaW5lZGApXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb3VudCArPSBjaGlsZC5jb3VudFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnQrK1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHRoZSBtZXRob2QgdXNlIHRvIHZpcnR1YWwgZG9tICByZW5kZSB0byByZWFsIGRvbVxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudGFnKVxuICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHNcbiAgICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBwcm9wcykge1xuICAgICAgICAgICAgVXRpbC5zZXRBdHRyKGVsLCBwcm9wTmFtZSwgcHJvcHNbcHJvcE5hbWVdKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZEVsID0gKGNoaWxkIGluc3RhbmNlb2YgRWxlbWVudCkgPyBjaGlsZC5yZW5kZXIoKSA6IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkKVxuICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoY2hpbGRFbClcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbn1cblxuY2xhc3MgRGlmZiB7XG4gICAgLyoqXG4gICAgICogZG9tIHRyZWUgZGlmZiBhbGdvcml0aG0gb2JqZWN0IGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSBvbGRUcmVlIHRoZSBkb20gdHJlZSBmb3IgYmVmb3JlIHVwZGF0ZSBcbiAgICAgKiBAcGFyYW0geyp9IG5ld1RyZWUgdGhlIGRvbSB0cmVlIGZvciBhZnRlciB1cGRhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvbGRUcmVlLCBuZXdUcmVlKSB7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwXG4gICAgICAgIHRoaXMucGF0Y2hlcyA9IHt9XG4gICAgICAgIHRoaXMuZGZzV2FsayhvbGRUcmVlLCBuZXdUcmVlLCB0aGlzLmluZGV4KVxuICAgIH1cbiAgICBkZnNXYWxrKG9sZE5vZGUsIG5ld05vZGUsIGluZGV4KSB7XG4gICAgICAgIGxldCBjdXJyZW50UGF0Y2ggPSBbXVxuICAgICAgICBpZiAobmV3Tm9kZSA9PSBudWxsKSB7XG5cbiAgICAgICAgfSBlbHNlIGlmIChVdGlsLmlzU3RyaW5nKG9sZE5vZGUpICYmIFV0aWwuaXNTdHJpbmcobmV3Tm9kZSkpIHtcbiAgICAgICAgICAgIGlmIChvbGROb2RlICE9IG5ld05vZGUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0Y2gucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE5PREVfQ09OVEVOVCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogbmV3Tm9kZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob2xkTm9kZS50YWdOYW1lID09PSBuZXdOb2RlLnRhZ05hbWUgJiYgb2xkTm9kZS5rZXkgPT0gbmV3Tm9kZS5rZXkpIHtcbiAgICAgICAgICAgIGxldCBwcm9wc1BhdGNoZXMgPSB0aGlzLmRpZmZQcm9wcyhvbGROb2RlLCBuZXdOb2RlKVxuICAgICAgICAgICAgaWYgKHByb3BzUGF0Y2hlcykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRjaC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTk9ERV9QUk9QUyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHByb3BzUGF0Y2hlc1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIVV0aWwuaXNJZ25vcmVDaGlsZHJlbihuZXdOb2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlmZkNoaWxkcmVuKG9sZE5vZGUuY2hpbGRyZW4sIG5ld05vZGUuY2hpbGRyZW4sIGluZGV4LCBjdXJyZW50UGF0Y2gpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50UGF0Y2gucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogTk9ERV9SRVBMQUNFLFxuICAgICAgICAgICAgICAgIG5vZGU6IG5ld05vZGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRQYXRjaC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucGF0Y2hlc1tpbmRleF0gPSBjdXJyZW50UGF0Y2hcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaWZmUHJvcHMob2xkTm9kZSwgbmV3Tm9kZSkge1xuXG4gICAgICAgIGNvbnN0IG9sZFByb3BzID0gb2xkTm9kZS5wcm9wc1xuICAgICAgICBjb25zdCBuZXdQcm9wcyA9IG5ld05vZGUucHJvcHNcblxuICAgICAgICBjb25zdCBwcm9wc1BhdGNoZXMgPSB7fVxuICAgICAgICBsZXQgaXNTYW1lID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIG9sZFByb3BzKSB7XG4gICAgICAgICAgICBpZiAobmV3UHJvcHNba2V5XSAhPT0gb2xkUHJvcHNba2V5XSkge1xuICAgICAgICAgICAgICAgIGlzU2FtZSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgcHJvcHNQYXRjaGVzW2tleV0gPSBuZXdQcm9wc1trZXldXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQga2V5IGluIG5ld1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAoIW9sZFByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBpc1NhbWUgPSBmYWxzZVxuICAgICAgICAgICAgICAgIHByb3BzUGF0Y2hlc1trZXldID0gbmV3UHJvcHNba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc1NhbWUgPyBudWxsIDogcHJvcHNQYXRjaGVzXG5cbiAgICB9XG4gICAgZGlmZkNoaWxkcmVuKG9sZENoaWxkcmVuLCBuZXdDaGlsZHJlbiwgaW5kZXgsIGN1cnJlbnRQYXRjaCkge1xuICAgICAgICBsZXQgZGlmZkxpc3QgPSBuZXcgRGlmZkxpc3Qob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuKVxuICAgICAgICBsZXQgZGlmZnMgPSBkaWZmTGlzdC5nZXRSZXN1bHQoKVxuICAgICAgICBuZXdDaGlsZHJlbiA9IGRpZmZzLmNoaWxkXG4gICAgICAgIGlmIChkaWZmcy5tb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByZW9yZGVyUGF0Y2ggPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogQ0hJTERfUkVfT1JERVIsXG4gICAgICAgICAgICAgICAgbW92ZXM6IGRpZmZzLm1vdmVzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50UGF0Y2gucHVzaChyZW9yZGVyUGF0Y2gpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxlZnROb2RlID0gbnVsbFxuICAgICAgICBsZXQgY3VycmVudE5vZGVJbmRleCA9IGluZGV4XG4gICAgICAgIG9sZENoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmV3Q2hpbGQgPSBuZXdDaGlsZHJlbltpXVxuICAgICAgICAgICAgY3VycmVudE5vZGVJbmRleCA9IChsZWZ0Tm9kZSAmJiBsZWZ0Tm9kZS5jb3VudCkgP1xuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlSW5kZXggKyBsZWZ0Tm9kZS5jb3VudCArIDEgOlxuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlSW5kZXggKyAxXG4gICAgICAgICAgICB0aGlzLmRmc1dhbGsoY2hpbGQsIG5ld0NoaWxkLCBjdXJyZW50Tm9kZUluZGV4KVxuICAgICAgICAgICAgbGVmdE5vZGUgPSBjaGlsZFxuICAgICAgICB9KVxuXG5cbiAgICB9XG59XG5cbmNsYXNzIFBhdGNoIHtcbiAgICBjb25zdHJ1Y3Rvcihub2RlLCBwYXRjaGVzKSB7XG4gICAgICAgIGxldCB3YWxrZXIgPSB7XG4gICAgICAgICAgICBpbmRleDogMFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGZzV2Fsayhub2RlLCB3YWxrZXIsIHBhdGNoZXMpXG4gICAgfVxuICAgIGRmc1dhbGsobm9kZSwgd2Fsa2VyLCBwYXRjaGVzKSB7XG4gICAgICAgIGxldCBjdXJyZW50UGF0Y2hlcyA9IHBhdGNoZXNbd2Fsa2VyLmluZGV4XVxuICAgICAgICBsZXQgbGVuID0gbm9kZS5jaGlsZE5vZGVzID8gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA6IDBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gbm9kZS5jaGlsZE5vZGVzW2ldXG4gICAgICAgICAgICB3YWxrZXIuaW5kZXgrK1xuICAgICAgICAgICAgdGhpcy5kZnNXYWxrKGNoaWxkLCB3YWxrZXIsIHBhdGNoZXMpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRQYXRjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5UGF0Y2hlcyhub2RlLCBjdXJyZW50UGF0Y2hlcylcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIGFwcGx5UGF0Y2hlcyhub2RlLCBjdXJyZW50UGF0Y2hlKSB7XG4gICAgICAgIGN1cnJlbnRQYXRjaGUuZm9yRWFjaCgoY3VycmVudFBhdGNoKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGN1cnJlbnRQYXRjaC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBOT0RFX1JFUExBQ0U6XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdOb2RlID0gVXRpbC5pc1N0cmluZyhjdXJyZW50UGF0Y2gubm9kZSkgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjdXJyZW50UGF0Y2gubm9kZSkgOiBjdXJyZW50UGF0Y2gubm9kZS5yZW5kZXIoKVxuICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld05vZGUsIG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBDSElMRF9SRV9PUkRFUjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW9yZGVyQ2hpbGRyZW4obm9kZSwgY3VycmVudFBhdGNoLm1vdmVzKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgTk9ERV9QUk9QUzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9wcyhub2RlLCBjdXJyZW50UGF0Y2gucHJvcHMpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBOT0RFX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gY3VycmVudFBhdGNoLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gY3VycmVudFBhdGNoLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG4gICAgcmVvcmRlckNoaWxkcmVuKG5vZGUsIG1vdmVzKSB7XG4gICAgICAgIGxldCBzdGF0aWNOb2RlTGlzdCA9IFV0aWwudG9BcnJheShub2RlLmNoaWxkTm9kZXMpXG4gICAgICAgIGxldCBub2RlTWFwcyA9IHt9XG4gICAgICAgIHN0YXRpY05vZGVMaXN0LmZvckVhY2goKHNub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAoc25vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gc25vZGUuZ2V0QXR0cmlidXRlKCdrZXknKVxuICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZU1hcHNba2V5XSA9IHNub2RlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBtb3Zlcy5mb3JFYWNoKChtb3ZlKSA9PiB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBtb3ZlLmluZGV4XG4gICAgICAgICAgICBpZiAobW92ZS50eXBlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpY05vZGVMaXN0W2luZGV4XSA9PT0gbm9kZS5jaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUuY2hpbGROb2Rlc1tpbmRleF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXRpY05vZGVMaXN0LnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZS50eXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluc2VydE5vZGUgPSBub2RlTWFwc1ttb3ZlLml0ZW0ua2V5XSA/XG4gICAgICAgICAgICAgICAgICAgIG5vZGVNYXBzKG1vdmUuaXRlbS5rZXkpLmNsb25lTm9kZSh0cnVlKSA6XG4gICAgICAgICAgICAgICAgICAgIFV0aWwuaXNTdHJpbmcobW92ZS5pdGVtKSA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG1vdmUuaXRlbSkgOiBtb3ZlLml0ZW0ucmVuZGVyKClcbiAgICAgICAgICAgICAgICBzdGF0aWNOb2RlTGlzdC5zcGxpY2UoaW5kZXgsIDAsIGluc2VydE5vZGUpXG4gICAgICAgICAgICAgICAgbm9kZS5pbnNlcnRCZWZvcmUoaW5zZXJ0Tm9kZSwgbm9kZS5jaGlsZE5vZGVzW2luZGV4XSB8fCBudWxsKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgfVxuICAgIHNldFByb3BzKG5vZGUsIHByb3BzKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgaWYgKHByb3BzW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGtleSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wc1trZXldXG4gICAgICAgICAgICAgICAgVXRpbC5zZXRBdHRyKG5vZGUsIGtleSwgdmFsdWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuXG5cblxuY2xhc3MgVXRpbCB7XG4gICAgc3RhdGljIGlzU3RyaW5nKHNvbWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzb21lID09PSAnc3RyaW5nJ1xuICAgIH1cbiAgICBzdGF0aWMgdG9BcnJheShsaXN0KSB7XG4gICAgICAgIGlmICghbGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFycmF5ID0gW11cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcnJheS5wdXNoKGxpc3RbaV0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5XG4gICAgfVxuICAgIHN0YXRpYyBpc0ZvckluKGRpcmVjdGlvbikge1xuICAgICAgICByZXR1cm4gL15cXHcqIF9pbl8gXFx3KiQvLnRlc3QoZGlyZWN0aW9uKVxuICAgIH1cbiAgICBzdGF0aWMgaXNGb3JGb3JJbihkaXJlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIC9eXFx3KiBfaW4qJC8udGVzdChkaXJlY3Rpb24pXG4gICAgfVxuXG4gICAgc3RhdGljIGlzRm9yT3JGb3JGb3IoZGlyZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiAvXlxcdyogX2luXyBcXHd8X2luKiQvLnRlc3QoZGlyZWN0aW9uKVxuICAgIH1cbiAgICBzdGF0aWMgaXNJZ25vcmVDaGlsZHJlbihub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLnByb3BzICYmIG5vZGUucHJvcHMuaGFzT3duUHJvcGVydHkoXCJpZ25vcmVcIilcbiAgICB9XG4gICAgc3RhdGljIHNldEF0dHIobm9kZSwga2V5LCB2YWx1ZSkge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnc3R5bGUnOlxuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ3ZhbHVlJzpcbiAgICAgICAgICAgICAgICBsZXQgdGFnTmFtZSA9IG5vZGUudGFnTmFtZSB8fCAnJ1xuICAgICAgICAgICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICBpZiAodGFnTmFtZSA9PT0gJ2lucHV0JyB8fCB0YWdOYW1lID09PSAndGV4dGFyZWEnKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuXG5cbmNsYXNzIERpZmZMaXN0IHtcbiAgICAvKipcbiAgICAgKiBkaWZmIGxpc3QgXG4gICAgICogQHBhcmFtIHsqfSBvbGRMaXN0IFxuICAgICAqIEBwYXJhbSB7Kn0gbmV3TGlzdCBcbiAgICAgKiBAcGFyYW0geyp9IGtleSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvbGRMaXN0LCBuZXdMaXN0KSB7XG4gICAgICAgIGxldCBvbGRMaXN0S2V5SW5kZXggPSB0aGlzLm1ha2VLZXlJbmRleChvbGRMaXN0KS5rZXlJbmRleFxuICAgICAgICBsZXQgbmV3TGlzdEtleUluZGV4ID0gdGhpcy5tYWtlS2V5SW5kZXgobmV3TGlzdCkua2V5SW5kZXhcbiAgICAgICAgdGhpcy5tb3ZlT3BlcmF0b3IgPSBbXVxuICAgICAgICB0aGlzLmNoaWxkTGlzdCA9IFtdXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG9sZEl0ZW0gPSBvbGRMaXN0W2ldXG4gICAgICAgICAgICBsZXQgb0l0ZW1LZXkgPSB0aGlzLmdldEtleShvbGRJdGVtKVxuICAgICAgICAgICAgaWYgKCFuZXdMaXN0S2V5SW5kZXguaGFzT3duUHJvcGVydHkob0l0ZW1LZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZExpc3QucHVzaChudWxsKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkTGlzdC5wdXNoKG5ld0xpc3RbbmV3TGlzdEtleUluZGV4W29JdGVtS2V5XV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wTGlzdCA9IHRoaXMuY2hpbGRMaXN0LnNsaWNlKDApXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnRlbXBMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGVtcExpc3RbaV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShpKVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29weVRlbXBMaXN0KGkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBpbmRleCA9IDBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbkl0ZW0gPSBuZXdMaXN0W2ldXG4gICAgICAgICAgICBsZXQgbkl0ZW1LZXkgPSB0aGlzLmdldEtleShuSXRlbSlcbiAgICAgICAgICAgIGxldCBjSXRlbSA9IHRoaXMudGVtcExpc3RbaW5kZXhdXG4gICAgICAgICAgICBsZXQgY0l0ZW1LZXkgPSB0aGlzLmdldEtleShjSXRlbSlcbiAgICAgICAgICAgIGlmIChjSXRlbSkge1xuICAgICAgICAgICAgICAgIGlmIChuSXRlbUtleSAhPSBjSXRlbUtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2xkTGlzdEtleUluZGV4Lmhhc093blByb3BlcnR5KG5JdGVtS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNOZXh0SXRlbUtleSA9IGdldEtleSh0aGlzLnRlbXBMaXN0W2luZGV4ICsgMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobkl0ZW1LZXkgPT09IGNOZXh0SXRlbUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKGkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDb3B5VGVtcExpc3QoaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrK1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydChpLCBuSXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGksIG5JdGVtKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrK1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQoaSwgbkl0ZW0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGsgPSB0aGlzLnRlbXBMaXN0Lmxlbmd0aCAtIGluZGV4XG4gICAgICAgIHdoaWxlIChpbmRleCsrIDwgdGhpcy50ZW1wTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGstLVxuICAgICAgICAgICAgdGhpcy5yZW1vdmUoayArIG5ld0xpc3QubGVuZ3RoKVxuICAgICAgICB9XG5cblxuICAgIH1cbiAgICBtYWtlS2V5SW5kZXgobGlzdCkge1xuICAgICAgICBsZXQga2V5SW5kZXggPSB7fVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gbGlzdFtpXVxuICAgICAgICAgICAgbGV0IGl0ZW1LZXkgPSB0aGlzLmdldEtleShpdGVtKVxuICAgICAgICAgICAga2V5SW5kZXhbaXRlbUtleV0gPSBpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleUluZGV4OiBrZXlJbmRleFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0S2V5KGl0ZW0pIHtcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW1bXCJrZXlcIl1cbiAgICB9XG4gICAgcmVtb3ZlQ29weVRlbXBMaXN0KGluZGV4KSB7XG4gICAgICAgIHRoaXMudGVtcExpc3Quc3BsaWNlKGluZGV4LCAxKVxuICAgIH1cbiAgICByZW1vdmUoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5tb3ZlT3BlcmF0b3IucHVzaCh7XG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICB0eXBlOiAwXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaW5zZXJ0KGluZGV4LCBpdGVtKSB7XG4gICAgICAgIHRoaXMubW92ZU9wZXJhdG9yLnB1c2goe1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgIHR5cGU6IDFcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBnZXRSZXN1bHQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb3ZlczogdGhpcy5tb3ZlT3BlcmF0b3IsXG4gICAgICAgICAgICBjaGlsZDogdGhpcy5jaGlsZExpc3RcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cbmZ1bmN0aW9uIG9ic2VydmUob2JqLCBvYnNlcnZlTWFwLCBjYWxsYmFjaykge1xuXG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxldCBpbnRlcm5hbFZhbHVlID0gb2JqW2tleV1cbiAgICAgICAgbGV0IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpXG4gICAgICAgIG9ic2VydmVNYXAucHV0KGtleSwgb2JzZXJ2YWJsZSlcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5hZGQoY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVybmFsVmFsdWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQobmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlZCA9IGludGVybmFsVmFsdWUgIT09IG5ld1ZhbFxuICAgICAgICAgICAgICAgIGludGVybmFsVmFsdWUgPSBuZXdWYWxcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLmludm9rZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG4gICAgcmV0dXJuIG9ialxufVxuXG5cblxuZnVuY3Rpb24gT2JzZXJ2YWJsZSgpIHtcbiAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucyA9IG5ldyBTZXQoKVxufVxuT2JzZXJ2YWJsZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG9ic2VydmFibGVVcGRhdGUpIHtcbiAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5hZGQob2JzZXJ2YWJsZVVwZGF0ZSlcbn1cbk9ic2VydmFibGUucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5mb3JFYWNoKGZ1biA9PiBmdW4oKSlcbn1cblxuXG4vKipcbiAqIHRoZSBtZXRob2QgdXNlIHRvIGRlZXAgY2xvbmUgb2JqXG4gKiBAcGFyYW0geyp9IG9iaiBcbiAqL1xuZnVuY3Rpb24gY2xvbmUob2JqKSB7XG4gICAgbGV0IGdldFR5cGUgPSAobykgPT4ge1xuICAgICAgICBpZiAobyA9PT0gbnVsbCkgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICBpZiAobyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gICAgfVxuICAgIGxldCByZXN1bHQsIG9DbGFzcyA9IGdldFR5cGUob2JqKTtcbiAgICBpZiAob0NsYXNzID09PSBcIk9iamVjdFwiKSB7XG4gICAgICAgIHJlc3VsdCA9IHt9O1xuICAgIH0gZWxzZSBpZiAob0NsYXNzID09PSBcIkFycmF5XCIpIHtcbiAgICAgICAgcmVzdWx0ID0gW107XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGxldCBjb3B5ID0gb2JqW2tleV07XG4gICAgICAgIGlmIChnZXRUeXBlKGNvcHkpID09IFwiT2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gYXJndW1lbnRzLmNhbGxlZShjb3B5KTtcbiAgICAgICAgfSBlbHNlIGlmIChnZXRUeXBlKGNvcHkpID09IFwiQXJyYXlcIikge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBhcmd1bWVudHMuY2FsbGVlKGNvcHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmZ1bmN0aW9uIGgodGFnTmFtZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIG5ldyBFbGVtZW50KHRhZ05hbWUsIHByb3BzLCBjaGlsZHJlbilcbn1cblxuZnVuY3Rpb24gZGlmZihvbGRUcmVlLCBuZXdUcmVlKSB7XG4gICAgbGV0IGQgPSBuZXcgRGlmZihvbGRUcmVlLCBuZXdUcmVlKVxuICAgIHJldHVybiBkLnBhdGNoZXNcbn1cblxuXG5mdW5jdGlvbiBwYXRjaChub2RlLCBwYXRjaGVzKSB7XG4gICAgcmV0dXJuIG5ldyBQYXRjaChub2RlLCBwYXRjaGVzKVxufVxuLyoqXG4gKiB0aGUgbWFwIG9iamVjdCB1c2UgdG8gc2F2ZSBsaWtpbHkgKGtleSx2YWx1ZSkgZGF0YVxuICovXG5jbGFzcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE9iamVjdCgpO1xuICAgIH1cbiAgICBwdXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdGhpcy5tYXApKSB7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCsrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICByZXR1cm4gKGtleSBpbiB0aGlzLm1hcCkgPyB0aGlzLm1hcFtrZXldIDogbnVsbDtcbiAgICB9XG4gICAgcmVtb3ZlKGtleSkge1xuICAgICAgICBpZiAoKGtleSBpbiB0aGlzLm1hcCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1hcFtrZXldXG4gICAgICAgICAgICB0aGlzLmxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aDtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE9iamVjdCgpO1xuICAgIH1cbn1cblxuXG5jbGFzcyBSViB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGRvbVxuICAgICAgICB9ID0gb3B0aW9uXG4gICAgICAgIGxldCByb290ID0gVXRpbC5pc1N0cmluZyhlbCkgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKSA6IGVsXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgICAgICAgdGhpcy52ZSA9IHRoaXMuZ2V0VmlydHVhbEVsZW1lbnQodGhpcy5hcHBseVRydXRoZnVsRGF0YShkb20pKVxuICAgICAgICB0aGlzLncgPSB0aGlzLnZlLnJlbmRlcigpXG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQodGhpcy53KVxuICAgICAgICB0aGlzLm9ic2VydmVNYXAgPSBuZXcgTWFwKClcbiAgICAgICAgb2JzZXJ2ZSh0aGlzLmRhdGEsIHRoaXMub2JzZXJ2ZU1hcCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVkb20oZG9tKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnVwZGF0ZWRvbShkb20pXG5cbiAgICB9XG4gICAgdXBkYXRlZG9tKGRvbSkge1xuICAgICAgICBsZXQgbnZlID0gdGhpcy5nZXRWaXJ0dWFsRWxlbWVudCh0aGlzLmFwcGx5VHJ1dGhmdWxEYXRhKGRvbSkpXG4gICAgICAgIHdpbmRvdy5udmUgPSBudmVcbiAgICAgICAgd2luZG93LnZlID0gdGhpcy52ZVxuICAgICAgICBwYXRjaCh0aGlzLncsIGRpZmYodGhpcy52ZSwgbnZlKSlcbiAgICAgICAgdGhpcy52ZSA9IG52ZVxuICAgIH1cbiAgICB3YXRjaChrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZU1hcC5nZXQoa2V5KS5hZGQoY2FsbGJhY2spXG4gICAgfVxuICAgIGdldFZpcnR1YWxFbGVtZW50KGRvbSkge1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbXVxuICAgICAgICBmb3IgKGxldCBjaGlsZCBpbiBkb20uY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGxldCBjYyA9IGRvbS5jaGlsZHJlbltjaGlsZF1cbiAgICAgICAgICAgIGlmIChjYyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgY2MuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHYgPSB0aGlzLmdldFZpcnR1YWxFbGVtZW50KGMpXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2godilcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjYyBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGxldCB2ID0gdGhpcy5nZXRWaXJ0dWFsRWxlbWVudChjYylcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKHYpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2MpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaChkb20udGFnLCBkb20ucHJvcHMsIGNoaWxkcmVuKVxuICAgIH1cbiAgICBhcHBseVRydXRoZnVsRGF0YShkb20pIHtcbiAgICAgICAgaWYgKFwiZm9yXCIgaW4gZG9tLnByb3BzIHx8IFwiZm9yX2ZvclwiIGluIGRvbS5wcm9wcykge1xuICAgICAgICAgICAgbGV0IGRhdGFBcnJheSA9IFtdXG4gICAgICAgICAgICBsZXQgaXNGb3JGb3IgPSBmYWxzZVxuICAgICAgICAgICAgbGV0IGRhdGFTaW5nbGVcbiAgICAgICAgICAgIGlmIChkb20ucHJvcHNbJ2ZvciddKSB7IC8vYWRkIGZvciBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICBpZiAoVXRpbC5pc0Zvck9yRm9yRm9yKGRvbS5wcm9wc1snZm9yJ10pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb20uZm9yRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWwuaXNGb3JJbihkb20ucHJvcHNbJ2ZvciddKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInBsYXNlIHVzZSBfaW4gZGlyZWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhQXJyYXkgPSBkb20uZm9yRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNpbmdsZSA9IGRvbS5wcm9wc1snZm9yJ10uc3BsaXQoXCIgX2luXCIpWzBdXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoVXRpbC5pc0ZvckZvckluKGRvbS5wcm9wc1snZm9yJ10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGxhc2UgdXNlIF9pbl8gZGlyZWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhQXJyYXkgPSB0aGlzLmRhdGFbZG9tLnByb3BzWydmb3InXS5zcGxpdChcIiBfaW5fIFwiKVsxXV1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTaW5nbGUgPSBkb20ucHJvcHNbJ2ZvciddLnNwbGl0KFwiIF9pbl8gXCIpWzBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvbS5wcm9wc1snZm9yX2ZvciddKSB7IC8vYWRkIGZvcl9mb3IgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKFV0aWwuaXNGb3JPckZvckZvcihkb20ucHJvcHNbJ2Zvcl9mb3InXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWwuaXNGb3JGb3JJbihkb20ucHJvcHNbJ2Zvcl9mb3InXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInBsYXNlIHVzZSBfaW5fIGRpcmVjdGlvblwiKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlzRm9yRm9yID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBkYXRhQXJyYXkgPSB0aGlzLmRhdGFbZG9tLnByb3BzWydmb3JfZm9yJ10uc3BsaXQoXCIgX2luXyBcIilbMV1dXG4gICAgICAgICAgICAgICAgICAgIGRhdGFTaW5nbGUgPSBkb20ucHJvcHNbJ2Zvcl9mb3InXS5zcGxpdChcIiBfaW5fIFwiKVswXVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7fVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgZm9yIGRpcmVjdGlvbiB1c2UgZXJyb3JcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBvYmpzID0gW11cbiAgICAgICAgICAgIGRhdGFBcnJheS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb2JqID0ge31cbiAgICAgICAgICAgICAgICAgICAgb2JqLnRhZyA9IGRvbS50YWdcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNoaWxkcmVuID0gW11cbiAgICAgICAgICAgICAgICAgICAgb2JqLnByb3BzID0ge31cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgaW4gZG9tLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoVXRpbC5pc1N0cmluZyhkb20uY2hpbGRyZW5bY2hpbGRdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSVi5pc1BsYWNlSG9sZGVyKGRvbS5jaGlsZHJlbltjaGlsZF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSVi5nZXRQbGFjZUhvbGRlclZhbHVlKGRvbS5jaGlsZHJlbltjaGlsZF0pLmluZGV4T2YoZGF0YVNpbmdsZSkgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jaGlsZHJlbltjaGlsZF0gPSB0aGlzLmRhdGFbUlYuZ2V0UGxhY2VIb2xkZXJWYWx1ZShkb20uY2hpbGRyZW5bY2hpbGRdKV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jaGlsZHJlbltjaGlsZF0gPSBkYXRhW1JWLmdldFBsYWNlSG9sZGVyVmFsdWUoZG9tLmNoaWxkcmVuW2NoaWxkXSkuc3BsaXQoXCIuXCIpWzFdXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNoaWxkcmVuW2NoaWxkXSA9IGRvbS5jaGlsZHJlbltjaGlsZF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0ZvckZvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb20uY2hpbGRyZW5bY2hpbGRdLmZvckRhdGEgPSBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jaGlsZHJlbltjaGlsZF0gPSB0aGlzLmFwcGx5VHJ1dGhmdWxEYXRhKGRvbS5jaGlsZHJlbltjaGlsZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgcHJvcHMgPSBPYmplY3Qua2V5cyhkb20ucHJvcHMpXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHByb3AgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHByb3BzW3Byb3BdXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdHlsZSA9IGRvbS5wcm9wc1t2YWx1ZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGUuaW5kZXhPZihcIixcIikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGVzID0gc3R5bGUuc3BsaXQoXCIsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wcm9wc1t2YWx1ZV0gPSB0aGlzLmhhbmRsZUFycmF5U3R5bGUoZGF0YSwgc3R5bGVzLCBkYXRhU2luZ2xlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnByb3BzW3ZhbHVlXSA9IHRoaXMuaGFuZGxlU2luZ2xlU3R5bGUoZGF0YSwgc3R5bGUsIGRhdGFTaW5nbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUlYuaXNQbGFjZUhvbGRlcihkb20ucHJvcHNbdmFsdWVdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUlYuZ2V0UGxhY2VIb2xkZXJWYWx1ZShkb20ucHJvcHNbdmFsdWVdKS5pbmRleE9mKGRhdGFTaW5nbGUpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucHJvcHNbdmFsdWVdID0gdGhpcy5kYXRhW1JWLmdldFBsYWNlSG9sZGVyVmFsdWUoZG9tLnByb3BzW3ZhbHVlXSldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucHJvcHNbdmFsdWVdID0gZGF0YVtSVi5nZXRQbGFjZUhvbGRlclZhbHVlKGRvbS5wcm9wc1t2YWx1ZV0pLnNwbGl0KFwiLlwiKVsxXV1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnByb3BzW3ZhbHVlXSA9IGRvbS5wcm9wc1t2YWx1ZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvYmpzLnB1c2gob2JqKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIG9ianNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBvYmogPSB7fVxuICAgICAgICAgICAgb2JqLnRhZyA9IGRvbS50YWdcbiAgICAgICAgICAgIG9iai5jaGlsZHJlbiA9IFtdXG4gICAgICAgICAgICBvYmoucHJvcHMgPSB7fVxuICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgaW4gZG9tLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKFV0aWwuaXNTdHJpbmcoZG9tLmNoaWxkcmVuW2NoaWxkXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJWLmlzUGxhY2VIb2xkZXIoZG9tLmNoaWxkcmVuW2NoaWxkXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jaGlsZHJlbltjaGlsZF0gPSB0aGlzLmRhdGFbUlYuZ2V0UGxhY2VIb2xkZXJWYWx1ZShkb20uY2hpbGRyZW5bY2hpbGRdKV1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jaGlsZHJlbltjaGlsZF0gPSBkb20uY2hpbGRyZW5bY2hpbGRdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmouY2hpbGRyZW5bY2hpbGRdID0gdGhpcy5hcHBseVRydXRoZnVsRGF0YShkb20uY2hpbGRyZW5bY2hpbGRdKVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSBPYmplY3Qua2V5cyhkb20ucHJvcHMpXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wIGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcHJvcHNbcHJvcF1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGUgPSBkb20ucHJvcHNbdmFsdWVdXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZS5pbmRleE9mKFwiLFwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGVzID0gc3R5bGUuc3BsaXQoXCIsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucHJvcHNbdmFsdWVdID0gdGhpcy5oYW5kbGVBcnJheVN0eWxlKHRoaXMuZGF0YSwgc3R5bGVzLCB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wcm9wc1t2YWx1ZV0gPSB0aGlzLmhhbmRsZVNpbmdsZVN0eWxlKHRoaXMuZGF0YSwgc3R5bGUsIHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSVi5pc1BsYWNlSG9sZGVyKGRvbS5wcm9wc1t2YWx1ZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucHJvcHNbdmFsdWVdID0gdGhpcy5kYXRhW1JWLmdldFBsYWNlSG9sZGVyVmFsdWUoZG9tLnByb3BzW3ZhbHVlXSldXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucHJvcHNbdmFsdWVdID0gZG9tLnByb3BzW3ZhbHVlXVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9ialxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZVNpbmdsZVN0eWxlKGRhdGEsIHN0eWxlLCBkYXRhU2luZ2xlKSB7XG4gICAgICAgIGxldCBuZXdTdHlsZSA9ICcnXG4gICAgICAgIGlmIChkYXRhU2luZ2xlKSB7XG4gICAgICAgICAgICBpZiAoUlYuaXNQbGFjZUhvbGRlcihzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoUlYuZ2V0UGxhY2VIb2xkZXJWYWx1ZShzdHlsZSkuaW5kZXhPZihkYXRhU2luZ2xlKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gUlYuZ2V0UGxhY2VIb2xkZXJWYWx1ZShzdHlsZSkuc3BsaXQoXCIuXCIpWzFdXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0eWxlID0gZGF0YVtrZXldXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlS2V5ID0gc3R5bGUuc3BsaXQoXCI6XCIpWzBdXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHlsZVZhbHVlID0gc3R5bGUuc3BsaXQoXCI6XCIpWzFdXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlVmFsdWUgPSBkYXRhW1JWLmdldFBsYWNlSG9sZGVyVmFsdWUoc3R5bGVWYWx1ZSldXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0eWxlID0gc3R5bGVLZXkgKyBcIjpcIiArIHN0eWxlVmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1N0eWxlID0gc3R5bGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbGV0IHN0eWxlS2V5ID0gc3R5bGUuc3BsaXQoXCI6XCIpWzBdXG4gICAgICAgICAgICBsZXQgc3R5bGVWYWx1ZSA9IHN0eWxlLnNwbGl0KFwiOlwiKVsxXVxuICAgICAgICAgICAgaWYgKFJWLmlzUGxhY2VIb2xkZXIoc3R5bGVWYWx1ZSkpIHtcblxuICAgICAgICAgICAgICAgIHN0eWxlVmFsdWUgPSBkYXRhW1JWLmdldFBsYWNlSG9sZGVyVmFsdWUoc3R5bGVWYWx1ZSldXG4gICAgICAgICAgICAgICAgbmV3U3R5bGUgPSBzdHlsZUtleSArIFwiOlwiICsgc3R5bGVWYWx1ZVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1N0eWxlID0gc3R5bGVcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdTdHlsZVxuICAgIH1cbiAgICBoYW5kbGVBcnJheVN0eWxlKGRhdGEsIHN0eWxlcywgZGF0YVNpbmdsZSkge1xuICAgICAgICBsZXQgbmV3U3R5bGVBcnJheSA9IFwiXCJcbiAgICAgICAgZm9yIChsZXQgc3R5bGUgb2Ygc3R5bGVzKSB7XG5cbiAgICAgICAgICAgIGxldCBuZXdTdHlsZSA9IHRoaXMuaGFuZGxlU2luZ2xlU3R5bGUoZGF0YSwgc3R5bGUsIGRhdGFTaW5nbGUpXG4gICAgICAgICAgICBuZXdTdHlsZUFycmF5ICs9IG5ld1N0eWxlICsgXCI7XCJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3U3R5bGVBcnJheVxuXG4gICAgfVxuICAgIHN0YXRpYyBpc1BsYWNlSG9sZGVyKGNvbnRlbnQpIHtcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChjb250ZW50LnN0YXJ0c1dpdGgoXCIlI1wiKSAmJiBjb250ZW50LmVuZHNXaXRoKFwiIyVcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFBsYWNlSG9sZGVyVmFsdWUoY29udGVudCkge1xuICAgICAgICByZXR1cm4gY29udGVudC5zbGljZSgyLCAtMilcbiAgICB9XG5cbn1cbmV4cG9ydCBkZWZhdWx0IFJWIiwiaW1wb3J0IFJWIGZyb20gJ3lob25nbV9ydi5qcydcbi8qKlxuICogIFxuICovXG5mdW5jdGlvbiBDYWxlbmRhcigpIHtcbiAgICB0aGlzLm1vbnRocyA9IG5ldyBBcnJheShcIuS4gFwiLCBcIuS6jFwiLCBcIuS4iVwiLCBcIuWbm1wiLCBcIuS6lFwiLCBcIuWFrVwiLCBcIuS4g1wiLCBcIuWFq1wiLCBcIuS5nVwiLCBcIuWNgVwiLCBcIuWNgeS4gFwiLCBcIuWNgeS6jFwiKTtcbiAgICB0aGlzLmRheUNvdW50cyA9IG5ldyBBcnJheSgzMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxKTtcbiAgICB0aGlzLmRheXMgPSBuZXcgQXJyYXkoXCLml6VcIiwgXCLkuIBcIiwgXCLkuoxcIiwgXCLkuIlcIiwgXCLlm5tcIiwgXCLkupRcIiwgXCLlha1cIik7XG4gICAgdGhpcy50b2RheSA9IHRoaXMuZ2V0VG9kYXkoKTtcbiAgICB0aGlzLnllYXIgPSB0aGlzLnRvZGF5LnllYXI7XG4gICAgdGhpcy5tb250aCA9IHRoaXMudG9kYXkubW9udGg7XG4gICAgdGhpcy5uZXdDYWwgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuc2VsZWN0RGF5ID0gdGhpcy5uZXdDYWw7XG4gICAgdGhpcy5kYXkgPSAtMTtcbiAgICB0aGlzLnN0YXJ0RGF5ID0gMDtcbiAgICB0aGlzLmRhaWx5ID0gMDtcbiAgICB0aGlzLnJ2ID0gdW5kZWZpbmVkXG4gICAgaWYgKCh0aGlzLnRvZGF5LnllYXIgPT0gdGhpcy5uZXdDYWwuZ2V0RnVsbFllYXIoKSkgJiYgKHRoaXMudG9kYXkubW9udGggPT0gdGhpcy5uZXdDYWwuZ2V0TW9udGgoKSkpIHtcbiAgICAgICAgdGhpcy5kYXkgPSB0aGlzLnRvZGF5LmRheTtcbiAgICB9XG59XG5DYWxlbmRhci5wcm90b3R5cGUuZ2V0V2Vla3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5uZXdDYWwgPSBuZXcgRGF0ZSh0aGlzLnllYXIsIHRoaXMubW9udGgsIDEpO1xuICAgIHRoaXMuZGF5ID0gLTE7XG4gICAgdGhpcy5zdGFydERheSA9IHRoaXMubmV3Q2FsLmdldERheSgpO1xuICAgIHRoaXMuZGFpbHkgPSAwO1xuICAgIGlmICgodGhpcy50b2RheS55ZWFyID09IHRoaXMubmV3Q2FsLmdldEZ1bGxZZWFyKCkpICYmICh0aGlzLnRvZGF5Lm1vbnRoID09IHRoaXMubmV3Q2FsLmdldE1vbnRoKCkpKSB7XG4gICAgICAgIHRoaXMuZGF5ID0gdGhpcy50b2RheS5kYXk7XG4gICAgfVxuICAgIHZhciBkYXlDb3VudHMgPSB0aGlzLmdldERheUNvdW50cyh0aGlzLm5ld0NhbC5nZXRNb250aCgpLCB0aGlzLm5ld0NhbC5nZXRGdWxsWWVhcigpKTtcbiAgICB2YXIgd2Vla3MgPSBbXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgIHZhciBkYXlJbldlZWtzID0gW11cbiAgICAgICAgZGF5SW5XZWVrcy5pZCA9IGB3ZWVrX3Jvd18ke2l9YFxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDc7IGorKykge1xuICAgICAgICAgICAgdmFyIF9jZWxsT2JqID0ge31cbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gXCJcIlxuICAgICAgICAgICAgdmFyIHN0eWxlID0gXCJcIlxuICAgICAgICAgICAgdmFyIGxhYmxlID0gXCJcIlxuICAgICAgICAgICAgdmFyIGlkID0gYHdlZWtfZGF5XyR7aX0ke2p9YFxuICAgICAgICAgICAgaWYgKChqID09IHRoaXMuc3RhcnREYXkpICYmICgwID09IHRoaXMuZGFpbHkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYWlseSA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRheSA9PSB0aGlzLmRhaWx5KSB7XG4gICAgICAgICAgICAgICAgc3R5bGUgPSBcImZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6IzAwMDAwMDtiYWNrZ3JvdW5kLWNvbG9yOiNGRkZGRkY7aGVpZ2h0OjIwcHg7dGV4dC1hbGlnbjpjZW50ZXJcIlxuICAgICAgICAgICAgICAgIGxhYmxlID0gXCJjdXJyZW50XCJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaiA9PSA2KSB7XG4gICAgICAgICAgICAgICAgc3R5bGUgPSBcImNvbG9yOiNGRjAwMDA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojRTVFOUYyO3RleHQtYWxpZ246Y2VudGVyO2hlaWdodDoxOHB4O3dpZHRoOjEyJVwiXG4gICAgICAgICAgICAgICAgbGFibGUgPSBcInNhdFwiXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGogPT0gMCkge1xuICAgICAgICAgICAgICAgIHN0eWxlID0gXCJjb2xvcjogI0ZGMDAwMDt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNFNUU5RjI7dGV4dC1hbGlnbjpjZW50ZXI7aGVpZ2h0OjE4cHg7d2lkdGg6MTIlXCJcbiAgICAgICAgICAgICAgICBsYWJsZSA9IFwic3VuXCJcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3R5bGUgPSBcImNvbG9yOiMyNDNGNjU7YmFja2dyb3VuZC1jb2xvcjojRTVFOUYyO2hlaWdodDoyMHB4O3dpZHRoOjExJTt0ZXh0LWFsaWduOmNlbnRlclwiXG4gICAgICAgICAgICAgICAgbGFibGUgPSBcIm5vcm1hbFwiXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCh0aGlzLmRhaWx5ID4gMCkgJiYgKHRoaXMuZGFpbHkgPD0gZGF5Q291bnRzKSkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLmRhaWx5ICsgXCJcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmRhaWx5Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlID0gXCJjb2xvcjojMDAwMDAwO2JhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7aGVpZ2h0OjIwcHg7d2lkdGg6IDExJTt0ZXh0LWFsaWduOmNlbnRlclwiXG4gICAgICAgICAgICAgICAgY29udGVudCA9IFwiXCI7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jZWxsT2JqLmNvbnRlbnQgPSBjb250ZW50XG4gICAgICAgICAgICBfY2VsbE9iai5pZCA9IGlkXG4gICAgICAgICAgICBfY2VsbE9iai5sYWJsZSA9IGxhYmxlXG4gICAgICAgICAgICBfY2VsbE9iai5zdHlsZSA9IHN0eWxlXG5cbiAgICAgICAgICAgIGRheUluV2Vla3MucHVzaChfY2VsbE9iailcbiAgICAgICAgfVxuICAgICAgICB3ZWVrcy5wdXNoKGRheUluV2Vla3MpXG4gICAgICAgIHdpbmRvdy53ZWVrcyA9IHdlZWtzXG4gICAgfVxuICAgIHJldHVybiB3ZWVrc1xufVxuQ2FsZW5kYXIucHJvdG90eXBlLmdldERheUNvdW50cyA9IGZ1bmN0aW9uIChtb250aCwgeWVhcikge1xuICAgIGlmICgxID09IG1vbnRoKSB7XG4gICAgICAgIHJldHVybiAoKDAgPT0geWVhciAlIDQpICYmICgwICE9ICh5ZWFyICUgMTAwKSkpIHx8ICgwID09IHllYXIgJSA0MDApID8gMjkgOiAyOFxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRheUNvdW50c1ttb250aF1cbiAgICB9XG59XG5DYWxlbmRhci5wcm90b3R5cGUuZ2V0VG9kYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9vYmogPSB7fVxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIF9vYmoubm93ID0gbm93XG4gICAgX29iai55ZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gICAgX29iai5tb250aCA9IG5vdy5nZXRNb250aCgpO1xuICAgIF9vYmouZGF5ID0gbm93LmdldERhdGUoKTtcbiAgICByZXR1cm4gX29ialxufVxuXG5DYWxlbmRhci5wcm90b3R5cGUuc3ViTW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCh0aGlzLm1vbnRoIC0gMSkgPCAwKSB7XG4gICAgICAgIHRoaXMubW9udGggPSAxMTtcbiAgICAgICAgdGhpcy55ZWFyID0gdGhpcy55ZWFyIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1vbnRoID0gdGhpcy5tb250aCAtIDE7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwibW9udGg6XCIgKyB0aGlzLm1vbnRoKVxufVxuQ2FsZW5kYXIucHJvdG90eXBlLmFkZE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICgodGhpcy5tb250aCArIDEpID4gMTEpIHtcbiAgICAgICAgdGhpcy5tb250aCA9IDA7XG4gICAgICAgIHRoaXMueWVhciA9IHRoaXMueWVhciArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tb250aCA9IHRoaXMubW9udGggKyAxO1xuICAgIH1cbn1cbkNhbGVuZGFyLnByb3RvdHlwZS5zZXRNb250aCA9IGZ1bmN0aW9uIChtb250aCkge1xuICAgIGlmIChtb250aCA8IDEgfHwgbW9udGggPiAxMikge1xuICAgICAgICBhbGVydChcIuaciOS7veW/hemhu+WcqDEtMTLkuYvpl7QhXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubW9udGggPSBtb250aFxufVxuQ2FsZW5kYXIucHJvdG90eXBlLnNldFllYXIgPSBmdW5jdGlvbiAoeWVhcikge1xuICAgIHRoaXMueWVhciA9IHllYXJcbn1cblxuXG53aW5kb3cubW91c2VPdmVyPWZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgZWxlbWVudC5zdHlsZS5jb2xvciA9IFwiI0ZGRkZGRlwiXG59XG5cbndpbmRvdy5tb3VzZU91dD1mdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHZhciBsYWJlbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdsYWJsZScpXG4gICAgaWYgKGxhYmVsID09ICdzYXQnIHx8IGxhYmVsID09ICdzdW4nKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSBcIiNGRjAwMDBcIlxuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSBcIiMwMDAwMDBcIlxuICAgIH1cblxufVxubGV0IG1DYWxlbmRhciA9IG5ldyBDYWxlbmRhcigpXG53aW5kb3cubUNhbGVuZGFyPW1DYWxlbmRhclxud2luZG93LmNsaWNrRGF5PWZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQuaW5uZXJUZXh0ICE9ICcnKSB7XG4gICAgICAgIHZhciBkYXkgPSBuZXcgRGF0ZShtQ2FsZW5kYXIueWVhciwgbUNhbGVuZGFyLm1vbnRoLCBlbGVtZW50LmlubmVyVGV4dClcbiAgICAgICAgbUNhbGVuZGFyLnNlbGVjdERheSA9IGRheVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVWaWV3KGVsLCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHdlZWtzID0gbUNhbGVuZGFyLmdldFdlZWtzKClcbiAgICBsZXQgcnYgPSBuZXcgUlYoe1xuICAgICAgICBlbDogZWwsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHllYXI6ICcnICsgbUNhbGVuZGFyLnllYXIsXG4gICAgICAgICAgICBtb250aDogJycgKyAobUNhbGVuZGFyLm1vbnRoICsgMSksXG4gICAgICAgICAgICB3ZWVrVGl0bGVzOiBbe1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJ3ZWVra2V5MVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCLkuIBcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJ3ZWVra2V5MlwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCLkuoxcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJ3ZWVra2V5M1wiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCLkuIlcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJ3ZWVra2V5NFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCLlm5tcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJ3ZWVra2V5NVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCLkupRcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgd2Vla3M6IHdlZWtzXG4gICAgICAgIH0sXG4gICAgICAgIGRvbToge1xuICAgICAgICAgICAgdGFnOiBcInRhYmxlXCIsXG4gICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgIGJvcmRlcjogMCxcbiAgICAgICAgICAgICAgICBjZWxscGFkZGluZzogJzAnLFxuICAgICAgICAgICAgICAgIGNlbGxzcGFjaW5nOiAnMScsXG4gICAgICAgICAgICAgICAgaWQ6ICdjYWx0YWJsZScsXG4gICAgICAgICAgICAgICAga2V5OiAndGFibGUnLFxuICAgICAgICAgICAgICAgIHN0eWxlOiAndGV4dC1kZWNvcmF0aW9uOm5vbmU7d2lkdGg6MjAwO2JhY2tncm91bmQtY29sb3I6I0QwRDBFRTtmb250LXNpemU6OHB0O2JvcmRlcjowcHggZG90dGVkICMxQzZGRjU7J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICB0YWc6IFwidGhlYWRcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJ0aGVhZFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiAndHInLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwidGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwidGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtoZWlnaHQ6MjRweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojMzMzMzMzO3RleHQtZGVjb3JhdGlvbjpub25lO2JhY2tncm91bmQtY29sb3I6I0E0QjlENztib3JkZXItdG9wLXdpZHRoOjFweDtib3JkZXItcmlnaHQtd2lkdGg6MXB4O2JvcmRlci1ib3R0b20td2lkdGg6IDFweDsgYm9yZGVyLWxlZnQtd2lkdGg6IDFweDtib3JkZXItYm90dG9tLXN0eWxlOiAxcHg7Ym9yZGVyLXRvcC1jb2xvcjogIzk5OTk5OTtib3JkZXItcmlnaHQtY29sb3I6ICM5OTk5OTk7Ym9yZGVyLWJvdHRvbS1jb2xvcjojOTk5OTk5O2JvcmRlci1sZWZ0LWNvbG9yOiM5OTk5OTk7J1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ3RkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiBcIjdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAndGRUaXRsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAndGl0bGVEaXYnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazogXCJtQ2FsZW5kYXIuc3ViTW9udGgoKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2ZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOiMyNDNGNjU7Y3Vyc29yOmhhbmQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcInN1YkJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1wiPFwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogXCJpbnB1dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwieWVhclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiBcIjRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdmb250LXNpemU6IDlwdDsgdGV4dC1kZWNvcmF0aW9uOiBub25lO2JhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7aGVpZ2h0OiAyMHB4O2JvcmRlcjogMXB4IHNvbGlkICM2NjY2NjY7IGNvbG9yOiAjMDAwMDAwOycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwiNFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJyUjeWVhciMlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcImlucHV0WWVhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1wiXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiBcImlucHV0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb250aFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiBcIjJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICclI21vbnRoIyUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2ZvbnQtc2l6ZTogOXB0OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7YmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtoZWlnaHQ6IDIwcHg7Ym9yZGVyOiAxcHggc29saWQgIzY2NjY2NjsgY29sb3I6ICMwMDAwMDA7JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCIyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJpbnB1dE1vbnRoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXCJcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6ICdidXR0b24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IFwibUNhbGVuZGFyLmFkZE1vbnRoKClcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdmb250LXdlaWdodDogYm9sZDtjb2xvcjogIzI0M0Y2NTtjdXJzb3I6IGhhbmQ7dGV4dC1kZWNvcmF0aW9uOiBub25lOycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJhZGRCdXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcIj5cIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiAndHInLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdkYXl0cidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiAndGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjb2xvcjogI0ZGMDAwMDt0ZXh0LWRlY29yYXRpb246IG5vbmU7YmFja2dyb3VuZC1jb2xvcjogI0MwRDBFODt0ZXh0LWFsaWduOiBjZW50ZXI7aGVpZ2h0OiAyMHB4O3dpZHRoOiAxMiU7JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2RheVN1blRpdGxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1wi5pelXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiAndGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjb2xvcjojMDAwMDAwO2JhY2tncm91bmQtY29sb3I6I0MwRDBFODtoZWlnaHQ6MjBweDt3aWR0aDoxMSU7dGV4dC1hbGlnbjpjZW50ZXI7JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCIlI3YuaWQjJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yOiBcInYgX2luXyB3ZWVrVGl0bGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcIiUjdi52YWx1ZSMlXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ3RkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiAnIGNvbG9yOiNGRjAwMDA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojQzBEMEU4O3RleHQtYWxpZ246Y2VudGVyO2hlaWdodDogMjBweDt3aWR0aDogMTIlOycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdkYXlTYXRUaXRsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcIuWFrVwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cblxuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0YWc6IFwidGJvZHlcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxzcGFjaW5nOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxwYWRkaW5nOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImNhbGVuZGFyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJyB0ZXh0LWRlY29yYXRpb246IG5vbmU7d2lkdGg6IDE3MDtiYWNrZ3JvdW5kLWNvbG9yOiAjQzBEMEU4O2ZvbnQtc2l6ZTogOXB0O2JvcmRlcjogMHB4IGRvdHRlZCAjMUM2RkE1OycsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwidGJvZHlcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ3RyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjdXJzb3I6aGFuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcIiUjd2Vlay5pZCMlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yX2ZvcjogJ3dlZWsgX2luXyB3ZWVrcydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ3RkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiJSN2LmlkIyVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazogJ2NsaWNrRGF5KHRoaXMpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICclI3Yuc3R5bGUjJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmxlOiAnJSN2LmxhYmxlIyUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlb3ZlcjogJ21vdXNlT3Zlcih0aGlzKTsnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0OiAnbW91c2VPdXQodGhpcyk7JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yOiAndiBfaW4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1wiJSN2LmNvbnRlbnQjJVwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgXVxuICAgICAgICAgICAgICAgICAgICB9LCBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGxldCBtb250aCA9IG1DYWxlbmRhclsnbW9udGgnXVxuICAgIGxldCB5ZWFyID0gbUNhbGVuZGFyWyd5ZWFyJ11cbiAgICBsZXQgc2VsZWN0RGF5ID0gbUNhbGVuZGFyWydzZWxlY3REYXknXVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtQ2FsZW5kYXIsICdtb250aCcsIHtcblxuICAgICAgICBzZXQobnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5ld01vbnRoOlwiICsgbnZhbHVlKVxuICAgICAgICAgICAgaWYgKG1vbnRoICE9IG52YWx1ZSkge1xuICAgICAgICAgICAgICAgIG1vbnRoID0gbnZhbHVlXG4gICAgICAgICAgICAgICAgcnYuZGF0YS53ZWVrcyA9IG1DYWxlbmRhci5nZXRXZWVrcygpXG4gICAgICAgICAgICAgICAgcnYuZGF0YS5tb250aCA9IChudmFsdWUgKyAxKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9udGhcbiAgICAgICAgfVxuICAgIH0pXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1DYWxlbmRhciwgJ3llYXInLCB7XG4gICAgICAgIHNldChudmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh5ZWFyICE9IG52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibmV3WWVhcjpcIiArIG52YWx1ZSlcbiAgICAgICAgICAgICAgICB5ZWFyID0gbnZhbHVlXG4gICAgICAgICAgICAgICAgcnYuZGF0YS53ZWVrcyA9IG1DYWxlbmRhci5nZXRXZWVrcygpXG4gICAgICAgICAgICAgICAgcnYuZGF0YS55ZWFyID0gbnZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHllYXJcbiAgICAgICAgfVxuXG4gICAgfSlcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobUNhbGVuZGFyLCAnc2VsZWN0RGF5Jywge1xuICAgICAgICBzZXQobnZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0RGF5ICE9IG52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdERheSA9IG52YWx1ZVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG52YWx1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdERheVxuICAgICAgICB9XG4gICAgfSlcbn0iXSwic291cmNlUm9vdCI6IiJ9